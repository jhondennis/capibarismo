---
export interface VideoItemProps {
  title: string
  description: string
  embedIdYoutube: string
  author: string
  viewsYoutube: string
  viewText: string
}

export interface VideosProps {
  title: string
  subtitle: string
  hrefTikTok: string
  moreTikTok: string

  videos: VideoItemProps[]
}

const { title, subtitle, hrefTikTok, moreTikTok, videos } = Astro.props as VideosProps
---

<section id="videos" class="bg-warm-100 dark:bg-warm-800/50 py-20">
  <div class="container mx-auto px-4">
    <div class="mx-auto mb-16 max-w-3xl text-center">
      <h2 class="mb-4 text-3xl font-bold md:text-4xl">{title}</h2>
      <p class="text-warm-700 dark:text-warm-300">{subtitle}</p>
    </div>

    <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
      {
        videos?.map((video: VideoItemProps) => (
          <div class="dark:bg-warm-900 overflow-hidden rounded-xl bg-white shadow-md transition-shadow duration-300 hover:shadow-xl">
            <div class="relative overflow-hidden pb-[56.25%]">
              <iframe
                src={`https://www.youtube.com/embed/${video.embedIdYoutube}`}
                title={video.title}
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
                class="absolute top-0 left-0 h-full w-full"
              />
            </div>

            <div class="p-6">
              <h3 class="mb-2 text-xl font-bold">{video.title}</h3>
              <p class="text-warm-700 dark:text-warm-300 mb-4">{video.description}</p>

              <div class="flex items-center justify-between">
                <div class="text-warm-600 dark:text-warm-400 flex items-center gap-2 text-sm">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="h-4 w-4"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                    <circle cx="12" cy="7" r="4" />
                  </svg>
                  <span>{video.author}</span>
                </div>

                <div class="text-warm-600 dark:text-warm-400 flex items-center gap-2 text-sm">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="h-4 w-4"
                  >
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                    <circle cx="12" cy="12" r="3" />
                  </svg>
                  <span>
                    {video.viewsYoutube} {video.viewText}
                  </span>
                </div>
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <div class="mt-12 text-center">
      <a
        href={hrefTikTok}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center justify-center gap-2 rounded-full bg-black px-6 py-3 font-medium text-white transition-colors hover:bg-gray-900"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="h-5 w-5"
        >
          <path d="M9 12a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"></path>
          <path d="M15 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"></path>
          <path d="M15 8v8a4 4 0 0 1-4 4H9"></path>
          <line x1="15" y1="4" x2="21" y2="4"></line>
        </svg>
        {moreTikTok}
      </a>
    </div>
  </div>
</section>
